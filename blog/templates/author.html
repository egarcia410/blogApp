{% extends 'base.html' %}

{% block title %}Author Page{% endblock %}

{% block navbar %}
{% if loggedInUser %}
    <div class="navbar-menu is-active navbar-end">
        <div class="navbar-item ">
            <form action="/logout" method="post">
                <button class="button is-active is-primary" type="submit">Log Out</button>
            </form>
        </div>
    </div>
{% else %}
    <div class="navbar-menu is-active navbar-end">
        <div class="navbar-item">
            <button class="button is-active is-primary"><a class="navbarLink" href="/signup">Sign Up</a></button>
        </div>
        <div class="navbar-item">
            <button class="button is-active is-primary"><a class="navbarLink" href="/login">Log In</a></button>
        </div>
    </div>
{% endif %}
{% endblock %}

{% block content %}
<div class="container">
    <h2 class="titlePage">Author Page</h2>
    <div class="login">
        <form action="/post-edit/{{post.id}}" method="post">
            <div class="field">
                <p class="control">
                    <input name="title" class="input" type="text" value="{{post.title}}">
                </p>
            </div>
            <div class="field">
                <p class="control">
                    <input name="category" class="input" type="text" value="{{post.category}}">
                </p>
            </div>
            <div class="field">
                <p class="control">
                    <textarea name="post" class="textarea">{{post.post}}</textarea>
                </p>
            </div>
            <div class="field">
                <p class="control">
                <button class="button is-success">Edit Post</button>
                </p>
            </div>
        </form>
    </div>
</div>
{% endblock %}


<h1>AUTHOR PAGE</h1>

<h2>Posts Made {{ numPosts }}</h2>
{% for post in posts %}
    <li>{{ post.title }}</li>
{% endfor %}

<hr>

<h2>Comments Made {{ numComments }}</h2>
{% for comment in comments %}
    <li>{{ comment.comment }}</li>
{% endfor %}

<hr>

<h2>Posts Liked {{ numLikes }}</h2>
{% for like in likes %}
<li>{{ like.post.title }}</li>
{% endfor %}